<!DOCTYPE html>
<!--
This is an example weekly progress report document that team members can use to report their individual progress 
of their ECE477 senior design projects. Weekly progress reports are expected to follow the general guidelines
presented in the "Progress Report Policy" document, available online at https://engineering.purdue.edu/ece477/Course/Policies/policies.html

Please create 4 copies of this example, renaming each copy to <PurdueID>.html, where <PurdueID> corresponds to
the Purdue ITAP Career Account ID given by Purdue to each individual team member. If you have any questions,
contact course staff.
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<!--Reconfigurable base tag; used to modify the site root location for root-relative links-->
	<base href="https://engineering.purdue.edu/477grp6/" />

	<!--Content-->
	<title>ECE477 Course Documents</title>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta name="author" content="George Hadley">
	<meta name="format-detection" content="telephone=no" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0">

	<!--CSS-->
	<link rel="stylesheet" href="css/default.css" type="text/css" media="all" />
	<link rel="stylesheet" href="css/responsive.css">
	<link rel="stylesheet" href="css/styles.css">
	<link rel="stylesheet" href="css/content.css">
	<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->

</head>

<body>
	<div id="wrapper_site">
		<div id="wrapper_page">
			<!-- Instantiate global site header.-->
			<div id="header"></div>
			<!-- Instantiate site global navigation bar.-->
			<div id="menu"></div>

			<!-- Instantiate a page banner image. Page banner images should be 1100x350px and should be located within the local
			img folder located at this directory level. -->
			<div id="banner">
				<img src="Files/img/BannerImgExample.jpg"></img>
			</div>

			<!-- Instantiate "tools" needed for a page. Tools are premade functional blocks that can be used to build a page,
			and include things such as a file lister (for listing out homework assignments or tutorials)
		-->
			<div id="content">
				<h2>Progress Report for Shuang Liu</h2>

				<h4>Week 1:</h4>
				<b>Date:</b> -Enter today's date here-
				<br>
				<b>Total hours:</b> -Enter the number of hours you worked this week here-
				<br>
				<b>Description of design efforts:</b>
				<br> -Discuss your design efforts here. Remember to follow the guidelines presented in the Progress Report Policy, available
				<a href="https://engineering.purdue.edu/ece477/Course/Policies/">here</a>. This is a template entry; simply copy/paste
				this entry when doing progress reports each week.</br>

				<br>
			</div>
			<div>
				<h4>Week 2:</h4>
				<b>Date:</b> 08/31/2018
				<br>
				<b>Total hours:</b> 6
				<br>
				<b>Description of design efforts:</b>
				<br> During the second week, I mainly worked on identifying major constrains and potential problems that might pose potential
				obstacles which maybe stymie our progress in the futures. I successfully identified several problems and constrains such
				as the voltage thresh-hold values potentially for the motors, the size of the battery that the boat might need, and the
				different modules that the boat might need to communicate with user interface compatibly. After identifying the problems
				and constrains, I worked with the team to select potential microcontrollers and modules for the design project. To suit
				the need of transmitting image signal and GPS coordinate signal from the boat to the user interface and meeting the power
				constrains since the boat would be powered by 18650 batteries, I selected the STM32 low power series as the main microcontroller,
				but the specific model of STM32 is still under team discussion. With the microcontroller being decided, the LTE cellular
				module was also being decided, which is STM32-C2C/LTE IoT. With those important microcontroller and modules being selected
				and putted into order, the next step of mine would be working with the team to design the actual circuit and the physical
				boat itself. Additionally, I worked on parts of the functional specification assignment with the team which is the team
				assignment for the week.

			</div>
			<br>
			<br>
			<div>
				<h4>Week 3:</h4>
				<b>Date:</b> 09/07/2018
				<br>
				<b>Total hours:</b> 10
				<br>
				<b>Description of design efforts:</b>
				<br> During the first half of the week, I started to identify and select specific electronic components that the project
				needs and discussed with my team to finalize the candidate lists for each component. With the constraints of voltages
				of 3.3V to 5V, power limits since the boat and all microcontroller would be powered by the 18650 battery units, numbers
				of I/O pins, and functions of the microcontroller required because of the nature of the project involving multiple components
				and modules cooperating with each other. Thus, selecting the brushless DC motors for the boat and the garbage conveyor
				belt became a crucial step for further selections of the microcontroller with these design constraints in mind. First,
				I selected the Light Dependent Resistors as the main component of the features of detecting whether the garbage storing
				unit is full or not. since the other break beam sensors’ sensing distance is either too long or too short for the needs,
				making an LDR controlled transistor circuit with a red laser beam becomes the best option with easy controlling of the
				sensing distance. So, I built an LDR circuit making a LED lights on when the LDR could no longer detect the light source.
				The LED could be replaced by directly connecting to the microcontroller, making the LED into a merely analog output value
				and could be converting into a digital signal value thus could be further interpreted and processed by the microcontroller.
				In the circuit shown below, the potentiometer is used to adjust the resistance of the output voltage value so the voltage/power
				output would not exceed the microcontroller's limit.
				<figure>
					<a href="https://www.build-electronic-circuits.com/ldr-circuit-diagram"><img src="Team/progress/img/liushuang/LDR circuit1.jpg"
						 style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Personal modified LDR circuit for the break beam sensor via Build electronic circuit website
							</i></font>
					</figcaption>
				</figure>
				<br>Brushless DC motors is selected as the main drivers for the boat and the conveyor belt. The ASR-00016 brushless DC
				motors is selected as the motor for conveyor belt because of its relatively high torque, motor speed, and low price.
				Another brushless DC motor featuring Electronic Speed Control becomes the better choice than the brush DC motor, since
				it would be easier to monitor and control the speed of the boat. 9T 4370KV + waterproof with ESC was picked because this
				specific module features relatively high ESC continuous and burst current and low price. Its size and weight are also
				within the constraints of the boat. I also started to do some researches and studies about the ESC and learn about the
				ESC firmware that would require the interfacing with the microcontroller STM32L4 on boat. The circuit designing for powering
				and controlling the ESC with microcontroller is also under the way. Beside those tasks, I also helped the team to select
				other components such as WiFi module, and GPS module. I also started to design the software and firmware algorithm with
				the team, trying to come up with an algorithm which would constantly adjust the direction of the boat toward a fixed
				set coordinate. This algorithm would be performed in the computer through the user-interface.
				<figure>
					<a href="https://www.ebay.com/itm/9T-4370KV-Brushless-Motor-60A-ESC-Speed-Controller-Combo-ME720-for-1-10-RC-Car/192601909191?hash=item2cd7f7e7c7:g:kroAAOSwpdBbTw1F"><img
						 src="Team/progress/img/liushuang/brushless DC motor.jpg" style="display:block; margin-left: auto; margin-right: auto"
						 height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Selected brushless DC motor and ESC module</i></font>
					</figcaption>
				</figure>
				<figure>
					<a href="https://circuitdigest.com/microcontroller-projects/what-is-bldc-motor-and-arduino-bldc-motor-control">
						<img src="Team/progress/img/liushuang/sample BLDC circuit.jpg" style="display:block; margin-left: auto; margin-right: auto"
						 height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Sample BLDC circuit I studied to understand the working machenism of BLDC interface</i></font>
					</figcaption>
				</figure>
				<br>With each component being properly selected, the next step would be moving into the actual design stages for powering
				the BLDC Motors and interface the Electronic Speed Control with the microcontroller, and design and build the actual
				boat with team members.

			</div>
			<div>
				<h4>Week 4:</h4>
				<b>Date:</b> 9/14/2018
				<br>
				<b>Total hours:</b> 15
				<br>
				<b>Description of design efforts:</b>
				<br> For the first half of the week, I started to build the prototype circuit of the Light Dependent Resistor for detecting
				the capacity of the circuit. The design was relatively simple in designing phase involving an essential Light Dependent
				Resistor connecting with the base of the a 2N3906 PNP transistor and a 1K ohm resistor and a 2K ohm resistor; the emitter
				end is connected directly to the battery, and the collector is attached with a red LED to indicate the sensing of the
				Light Dependent Resistor. The PNP transistor on this particular circuit functions more like a switch which will output
				a low voltage value 0.32V and turn off the LED when the LDR detects a direct light source and output a relatively high
				voltage value 1.67V and turn on the LED when the LDR could not detect any direct light source. To interface this circuit
				with the microcontroller and make it work as a capacity indicator, the microcontroller could be connected in parallel
				with the LED output thus monitoring and recording the analog voltage value. In the microcontroller, the analog voltage
				output gets converted to the digital data and store in a memory address which will be sent to the user-interface through
				UART peripheral via WiFi communication. I got the LDR from the ECE supply room, the resistance of the LDR when detecting
				no light is about 4K ohm and the resistance of the LDR when detect a direct light source is about 0.15K ohm. The PNP
				transistor used is 2N3906, which is different from the original design component. Thus, the design for the break beam
				sensing circuit is modified to accommodate the existing components, and the 10K ohm potentiometer is removed since there
				will be no need to adjust the voltage output of the LED after team discussion about the microcontroller interfacing.
				The circuit schematic and graphical demonstrations are shown below.

				<figure>
					<img src="Team/progress/img/liushuang/LDR-modified.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Modified break beam sensing circuit</i></font>
					</figcaption>
				</figure>
				<figure>
					<img src="Team/progress/img/liushuang/LEDon.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>LED on when no direct light to the LDR</i></font>
					</figcaption>
				</figure>
				<figure>
					<img src="Team/progress/img/liushuang/LEDoff.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>LED off when direct light into the LDR</i></font>
					</figcaption>
				</figure>
				<br>Beside modifying and building the break beam sensing circuit, I also started to design the circuit for connecting
				the motor with the ESC and to the microcontroller. By researching the brushless DC motor and the ESC, turns out that
				some ESCs require special receivers to program the ESCs first to drive the motors with the ESCs. More researches and
				progresses will be made during the weekend to program the ESCs so both motors could be driven by the ESCs.
				<figure>
					<a href="http://www.headsuphobby.com/Connecting-an-ESC-to-Motor-Battery-Receiver_ep_55-1.html"><img src="Team/progress/img/liushuang/sample ESC circuit.png"
						 style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Sample ESC circuit I looked up</i></font>
					</figcaption>
				</figure>
				<br>For next week, I will start to work on making the actual boat using wood with teammates. I will also start to interface
				electrical components with the microcontroller through multiple peripherals once the development environment being set
				up by the teammates.

			</div>

			<div>
				<h4>Week 5:</h4>
				<b>Date:</b> 9/21/2018
				<br>
				<b>Total hours:</b> 15
				<br>
				<b>Description of design efforts:</b>
				<br> During this week, I mainly worked on several tasks involving interfacing ESC and motors with Arduino. Powering the
				ESC with motor was done by supplying the ESCs with the LiPo battery which will be powering 12V to the ESCs and motors.
				But simply set up the powering circuit only turn on the ESCs, the motor remained stand-still. After searching online,
				I found that the ESCs also need to be driven by PWM signal and changing the duty cycle of the PWM signal could change
				the motor speed as well. Thus, I tried to generate several different PWM signals in various frequencies from the oscilloscope,
				but the motor still could not be driven. Then I seek the solution of driving the ESCs and motors from Arduino since the
				Arduino obtains the library called “servo” which could directly output PWM signals to the ESCs. Using the Arduino for
				outputting PWM signals to the ESCs also has many advantages such that the duty cycles could be adjusted easily by entering
				numbers in the command window or increasing the duty cycle by utilizing a loop.

				<figure>
					<img src="Team/progress/img/liushuang/ESCtest1.png" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Modified Arduino sample ESC code 1</i></font>
					</figcaption>
				</figure>
				<br>Utilizing the Arduino and its servo library, I was able to find several example codes that outputs PWM signals to
				the ESCs and motors. I modified those sample codes, so the codes could be run and tested on the Arduino of our own. The
				first segment of code only powers up the ESCs and runs the motor in one cycle then stop. The second segment of code allows
				user to increase or decrease the duty cycle in the command window to control the speed of the motors by entering “u”
				representing speed up and “d” representing speed down. Both codes ran on the Arduino successfully and drove the motor
				in its design speed and PWM waveform.
				<figure>
					<img src="Team/progress/img/liushuang/ESCtest2.png" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Modified Arduino ESC code with controlling duty of the PWM waveform</i></font>
					</figcaption>
				</figure>
				<br>Next, I turned my attentions to search solutions on how to monitor the battery unit of our project and how to recharge
				the battery through solar panels. By consulting with the course professor and searching related information online, using
				PMICs will allow charging the four cells battery easier. I selected the ISL6255 PMIC which allow recharging for 2 – 4
				cells battery and it was designed to recharge the Lithium-Polymer battery. After selecting the PMIC for our solar battery
				charger circuit, I searched on designing an sample solar battery charger circuit diagram which utilize a different PMIC,
				but the ideas behind this sample circuit was relative the same with our project’s design intention.
				<figure>
					<a href="https://www.digikey.com/product-detail/en/renesas-electronics-america-inc/ISL6255AHAZ/ISL6255AHAZ-ND/1976500"><img
						 src="Team/progress/img/liushuang/PMIC.png" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Selected PMIC for solar charging circuit</i></font>
					</figcaption>
				</figure>

				<figure>
					<a href="https://www.electronicshub.org/solar-battery-charger-circuit/"><img src="Team/progress/img/liushuang/solarpanelcircuit.png"
						 style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Sample solar charging circuit I looked up</i></font>
					</figcaption>
				</figure>
				<br>For next week, I will start working on design the power supply circuit for recharging the battery and monitoring
				the levels of the battery units. I will also involve in helping interfacings between different components and microcontroller.

			</div>

			<div>
				<h4>Week 6:</h4>
				<b>Date:</b> 9/28/2018
				<br>
				<b>Total hours:</b> 14
				<br>
				<b>Description of design efforts:</b>
				<br> During this week, I mainly worked and involved on four tasks. The first task I worked with Qianli Ma to develop
				and design the power supply system that works particularly for our circuit to power the Brushless DC Motors and other
				electronic components. After series discussion between the team and Joe, we decided to use two 8000 mAh Li-Po batteries
				and one 3000 mAh battery instead of several 3000 mAh Li-Po batteries connecting in parallel with each other. Each Li-Po
				battery contains three cells and powers their responsible circuit accordingly without interrupting other batteries. The
				8000 mAh Li-Po battery will be designated to power the two brushless DC motors since these two motors will be drawing
				most of the power. The 3000 mAh battery will be responsible for powering the conveyor belt motors and other electrical
				components such as the sensing modules, microcontroller, and WiFi module. Since 8000mAh and 3000 mAh batteries will output
				higher voltage values than what we required, several voltage regulators are selected to tune down the 11.1V voltage from
				the battery to 5V and 3.3V. The selected voltage regulators for outputting 5V voltage is OKI-78SR-5/1.5-W36-C. The OKI-78SR
				suites the project’s need because it could take a range of voltage input from 7V to 36V and regulate the voltage to 5V
				fixed voltage, and it only draws about 8W power from the power supply. For the 3.3V voltage regulator, the LM1117-N surface
				mounted regulator is selected since we could find these regulators in school’s electrical shop.
				<figure>
					<a href="https://www.digikey.com/product-detail/en/murata-power-solutions-inc/OKI-78SR-5-1.5-W36-C/811-2196-5-ND/2259781?utm_adgroup=Converters&slid=&gclid=Cj0KCQjwuafdBRDmARIsAPpBmVWS79LCsNSjipBvRCDAqgpMf3fNdfnlOLzVvAHiSxjN1CiJxF62YaIaAhVfEALw_wcB"><img
						 src="Team/progress/img/liushuang/OKI-78SR.png" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Selected 5V voltage regulator</i></font>
					</figcaption>
				</figure>
				<figure>
					<a href="https://www.digikey.com/product-detail/en/texas-instruments/LM1117MPX-3.3-NOPB/LM1117MPX-3.3-NOPBCT-ND/1010516"><img
						 src="Team/progress/img/liushuang/LM1117.png" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Selected 3.3V voltage regulator</i></font>
					</figcaption>
				</figure>

				<br>To recharge these batteries from the solar panels, the recharging circuit needs to be equipped with charging protection
				board and Li-Po battery charging board. Since the solar panels offered by school provide lower voltage output and lower
				current output, it is necessary to boost the DC voltage up to suite the charging voltage of the Li-Po battery. Due to
				the nature of the solar panels, the voltage and current output to the charging circuit will not be constant thus may
				damage the batteries that require constant voltage charging. From Taobao, one DC-to-DC constant voltage constant current
				module is found and selected to be our battery charging protection board. This module also has an automatic voltage and
				current adjusting mode so the required voltage and current to charge the Li-Po battery could be achieved by boosting
				the voltage output of the solar panel to the desired voltage of 12.6V for charging the Li-Po battery. Beside the protection
				board, the project needs another charging board to support the charging of the Li-Po battery since the battery has three
				cells. This charging module is designed to charge three cells 11.1V Li-Po battery which is exactly what we need. The
				module also has short circuit protection which will prevent unnecessary damage to the Li-Po battery since Li-Po battery
				is fragile and could explode if the circuit gets shorted. With these two important charging protection modules being
				selected, designing the recharging circuit from solar panels to the Li-Po battery becomes relatively safe and easier.
				<figure>
					<a href="https://item.taobao.com/item.htm?spm=a1z0d.6639537.1997196601.121.24317484gihGTL&id=561222986592"><img src="Team/progress/img/liushuang/charging-board.png"
						 style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Battery charging board</i></font>
					</figcaption>
				</figure>
				<figure>
					<a href="https://item.taobao.com/item.htm?spm=2013.1.20141001.2.374160b5Ya60Up&id=573200526256&scm=1007.12144.95220.42296_0&pvid=50713c99-9eaa-4ffd-bc17-1663f8ea7801&utparam=%7B%22x_hestia_source%22%3A%2242296%22%2C%22x_object_type%22%3A%22item%22%2C%22x_mt%22%3A0%2C%22x_src%22%3A%2242296%22%2C%22x_pos%22%3A2%2C%22x_pvid%22%3A%2250713c99-9eaa-4ffd-bc17-1663f8ea7801%22%2C%22x_object_id%22%3A573200526256%7D"><img
						 src="Team/progress/img/liushuang/protection-board.png" style="display:block; margin-left: auto; margin-right: auto"
						 height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Battery protection board with automatic voltage/current adjusting mode</i></font>
					</figcaption>
				</figure>
				<br>For the battery monitoring IC, we decided to jettison the previous selected LTC6811 battery monitoring IC since this
				particular IC requires about 11V reference voltage if there are less than five cells to monitor, which makes it harder
				to design a battery monitoring circuit with this IC since the Li-Po battery has a range of voltage from 9V to 12V, therefore
				it becomes impossible to input the enough reference voltage to the monitoring IC when the battery is low on the voltage.
				Therefore, we revisited our designs and discussed with Joe to find more practical options for building the battery monitoring
				circuit. We found that Differential Amplifier INA148 seems to be a good choice for building the monitoring IC since each
				amplifier could be assigned to monitor one cell of the battery; then the differential amplifier could output voltage
				difference in each cell based on the reference voltage which will be zero for our design monitoring circuit. The differential
				output then will go through two 5k resistors which will lower the voltage value to the microcontroller since the microcontroller
				only support 3.3V voltage input. Each cell outputs about 3.7V during its operating mode, so the two 5k resistor will
				divide the output from the differential amplifier by half; and half of the output voltage could be connected into the
				ADC channels of the microcontroller safely. In the microcontroller, the analog signal will be converted into digital
				signal and timed two to reflect the real output voltage of the cell.
				<figure>
					<a href="http://www.ti.com/lit/ds/symlink/ina148.pdf"><img src="Team/progress/img/liushuang/monitor-circuit.png" style="display:block; margin-left: auto; margin-right: auto"
						 height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Sample battery monitor circuit for INA148</i></font>
					</figcaption>
				</figure>

				<br>For next week, I will continue to work on electrical schematic design and PCB layout with Qianli Ma. Also, I will
				start to do some researches on the algorithm regarding the route-navigating according to the selected GPS location. Beside
				these, I will also finish building the conveyor belt for the boat.

			</div>
			<div>
				<h4>Week 7:</h4>
				<b>Date:</b> 10/05/2018
				<br>
				<b>Total hours:</b> 20
				<br>
				<b>Description of design efforts:</b>
				<br> For this week, I mainly worked on building the prototype conveyor belt for collecting the garbage and building actual
				circuit models for testing the functionality of each designed circuit. During the first half of the week, building the
				prototype conveyor belt was my primary objective. Since building this prototype involved cooperating with the other parts
				of the boat, I had to look up the CAD models and made the length of the conveyor belt long enough to ensure the smooth
				transportation of garbage from the water surface to the garbage storing unit. The prototype conveyor belt dimension would
				be 30cm*28cm; two motors driven by the 5V voltage would be equipped to on the top of the conveyor belt system to ensure
				maximum torque and rotate the top bearing bar of the conveyor belt. The top and bottom bearing bars were hollow round
				shape and made of plastic. Only one 30cm long metal bar was needed and inserted into the bottom plastic tube to ensure
				the rotation of the bottom bar since the top bearing bar was rotated by the motion of the motors. Between the top and
				bottom bearing bars, I used Polyester Heavy Duty Tablecloth with holes to ensure maximum friction to ensure the transporting
				garbage could stay on the belt while being lifted up to the top. After finished the building process, Qianli and I tested
				the capability of the conveyor and confirmed that the conveyor could transport trashes such as water bottle. But after
				several runs of test, the motors started to lose tight on the plastic nob I used to stabilize and attach the motors to
				the plastic tube bearing since the motors were only hot glutted to the nobs due to the strong torque posed by the motors.
				I discovered that the motor was actually D shape; therefore, a special nob with D shape opening needed to be made to
				suite the motor so the motors will not lose tight to the nob and provide constant strong torque to the top bearing of
				the conveyor belt. The team is still waiting on the special nobs to be 3D printed.

				<figure>
					<img src="Team/progress/img/liushuang/conveyorbelt.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Prototyped Conveyor Belt</i></font>
					</figcaption>
				</figure>
				<br>After building the conveyor belt, the team met a problem with designing a switch that will turn off the conveyor
				belt motor when the battery output voltage drop down to 9V meaning the battery is low on battery life. When the battery
				is fully charged, the battery unit could output about 12V; when the battery is on its normal operating voltage, the voltage
				output will be 11.1V; and when the battery life is low, only about 9V voltage will be outputted by the battery. Since
				the 5V voltage regulator only requires about 7V-8V of voltage to output constant 5V voltage and the battery runs low
				voltage output of 9V, the motor would not be shut off by itself when the battery is low on its life. Therefore, a switch
				that could shut down the conveyor belt motors when the microcontroller detects a 9V low voltage output from the battery
				is much needed, since we want to avoid drawing voltage from the battery by the motors continuously. I consulted with
				Joe to discuss our problem and found a solution of utilizing a NMOSFET that could input wide ranges of current and voltage,
				so the NMOSFET could be turned on when the Gate takes a high voltage or signal (1) and turned off when the Gate receives
				a low voltage or signal (0). The conveyor belt motors are connected between the input voltage and the Drain of the NMOSFET,
				and the Source of the NMOSFET will be connected to the ground. By utlizing this switch circuit, the microcontroller could
				send a simple signal to the Gate of the NMOSFET and turn off the motor when the battery is low on voltage. This circuit
				was built and tested as shown, but the microcontroller was not involved in the testing yet.
				<figure>
					<img src="Team/progress/img/liushuang/motorswitch.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Motor NMOSFET switch circuit</i></font>
					</figcaption>
				</figure>
				<br>After the switch circuit designing and constructing, I started to work on soldering the circuit for battery monitor
				IC and USB connector circuit since the team wanted to test their functionalities before finalizing the PCB and schematic
				designs. The battery monitor IC circuit is constructed utilizing a differential amplifier which output a voltage with
				1:1 ratio to the input voltage value, the output voltage could be adjusted by inputting a reference voltage. The circuit
				was built and tested and confirmed the output was matched to the input voltage of 5V using the power supply. After the
				circuit testing, I found a problem with this particular differential amplifier which requires +/- voltage supply to the
				differential amplifier which might not be easy to provide by the project’s power supply. Then I discussed this issue
				with my teammates and decided to simply use two 10kohm resistor as voltage dividers to directly measure the voltage value
				of the battery cell. It turns out the voltage dividers work fine and communicate with the microcontroller’s ADC without
				any issues; simply multiply the ADC data by two will recover the voltage value of the battery cell. At the end of this
				week, I also soldered a breakout board for testing the USB connector which powers the on-board Raspberry Pi and Wifi
				router. The actual picture of the board and schematic is shown below. By constructing this circuit, the intention is
				to “trick” the Raspberry Pi and Wifi router to recognize the power from battery as actual power supply. The soldered
				circuit worked fine and turned on the Raspberry Pi as expected.
				<figure>
					<img src="Team/progress/img/liushuang/IC-connection.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Battery Monitor Differential Amplifier breakout board with connection</i></font>
					</figcaption>
				</figure>
				<figure>
					<img src="Team/progress/img/liushuang/USBconnector.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>USB connector breakout board</i></font>
					</figcaption>
				</figure>
				<figure>
					<img src="Team/progress/img/liushuang/USBcircuit.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>USB circuit schematic</i></font>
					</figcaption>
				</figure>
				<br>For next week, I plan on preparing the prototype for the Midterm Design Review with my teammates and do more researches
				on designing the algorithm of automatic steering and driving based on the given GPS points.

			</div>

			<div>
				<h4>Week 9:</h4>
				<b>Date:</b> 10/19/2018
				<br>
				<b>Total hours:</b> 22
				<br>
				<b>Description of design efforts:</b>
				<br> For this week’s progress, I mainly worked with Qianli Ma to set up the power supply system for our project, so the
				motors and other relative electronic components could be powered on first for further testing. To set up the power supply
				system, we needed to configure the powering and charging modules properly first, so Qianli and I went on and configured
				the charging modules. The charging modules consist two modules: one is the charging board module and another one is the
				protection board module. The set-up process is relatively simple since the instructions and datasheet illustrating the
				pin-outs are already given. For setting up the charging board module, I first connected the power supply which outputs
				regular 24V and 15A with 12AWG wires to the charging board; the reason for using 12AWG wires is that the current flowing
				through the system is high so the wire needs to be robust and withstands 15A current. After the initial connection to
				the charging board input pin and ground, the output pin which will be connected to the battery unit was connected to
				the ground pin of the charging board to short the charging circuit, creating a “charging state” for the charging board
				so the further adjustments could be made to the charging board. Then a DMM monitoring the current and voltage output
				was connected to the charging board’s additional four pin-out to measure the current and voltage output. There are two
				tall potentiometers which adjust the constant current and voltage output on the charging board. By tweaking these two
				potentiometers, I was able to adjust the voltage output to about 12.7V which is necessary for the battery to be charged.
				The DMM voltage reading figure is shown below.

				<figure>
					<img src="Team/progress/img/liushuang/w9/chargingboardsetup.jpg" style="display:block; margin-left: auto; margin-right: auto"
					 height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>8000mAh battery charging board set up</i></font>
					</figcaption>
				</figure>
				<figure>
					<img src="Team/progress/img/liushuang/w9/DMMreading.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>DMM reading for the constant voltage output</i></font>
					</figcaption>
				</figure>
				<br>After the initial set-up for the first charging board was successful, I continued to set up the second charging board.
				There was another different charging board needed to be set up for charging the 3000mAh Li-Po battery, since the 3000mAh
				battery does not require as much current as the 8000mAh battery. Therefore, the constant current setting for the 3000mAh
				battery charging board needs to be smaller, comparing to the 8000mAh battery charging board. Next, Qian li and I started
				to solder the 12AWG wires to the battery charging protection board, the reason for using the 12AWG is like the reason
				for charging board. The C- pin will be connected to the ground of the charging circuit, the P- pin will be connected
				to the ground of the power supply system, and the B- pin will be connected to the negative pin of the battery unit. With
				the battery charging and protection system being set-up, the further testing of the power supply system could be carried
				on and tested later for prototyping.
				<figure>
					<img src="Team/progress/img/liushuang/w9/chargingboard2.jpg" style="display:block; margin-left: auto; margin-right: auto"
					 height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>3000mAh battery charging board set up</i></font>
					</figcaption>
				</figure>
				<figure>
					<img src="Team/progress/img/liushuang/w9/charging-board.jpg" style="display:block; margin-left: auto; margin-right: auto"
					 height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Charging protection board for battery charging</i></font>
					</figcaption>
				</figure>
				<br>Afterward, I started to construct the voltage division circuit which will be used to monitor the battery life by
				measuring the voltage values in one, two, and three cells of the battery. The battery monitoring circuit is shown below.
				After the circuit is constructed, I used the in-lab power supply to generate a 12.6V voltage which mirrors the voltage
				output of the battery unit. Each branch monitors different amounts of cells in the battery. The 6.2Kohm in series with
				18Kohm branch monitors three cells; the 5.1Kohm in series with 8.2Kohm branch monitors two cells; the 2.4Kohm in series
				with 680ohm branch monitors one cells. The voltages from different cells will be divided down to about 3.2V to represent
				the maximum charge of the battery, and the voltage measurements will be measured by the microcontroller’s ADC channels
				and sent back to user-interface for further interpretation. The measurements of the voltage division circuit will be
				measured through 6.2Kohm resistor, 5.1Kohm resistor, and the 2.4Kohm resistor with relative to the ground. After the
				testing with measuring each voltage division outputs, all circuit branches outputted expected voltage measuring of about
				3.2V, confirming the voltage division method for monitoring the battery life works as expected.
				<figure>
					<img src="Team/progress/img/liushuang/w9/BMcircuit.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Battery Monitoring Circuit</i></font>
					</figcaption>
				</figure>
				<figure>
					<img src="Team/progress/img/liushuang/w9/circuitconstruction.jpg" style="display:block; margin-left: auto; margin-right: auto"
					 height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Battery Monitoring Circuit constructed</i></font>
					</figcaption>
				</figure>
				<br>Next, with the D-shaft connector being 3D printed, I was able to continue the building process with the conveyor
				belt. The D-shaft connectors work great on holding the motor in place with the bearing thus providing more grip to the
				conveyor belt so heavier trashes could be transported upward firmly. Then the connectors were drill with screw holes
				so that the connector and the bearing bar could be connected more tightly and will not lose tight during the operating
				phrase. Afterward, the conveyor belt was mounted to the prototype boat that Tianjie and I assembled.
				<figure>
					<img src="Team/progress/img/liushuang/w9/boat-prototype.jpg" style="display:block; margin-left: auto; margin-right: auto"
					 height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Main frame of the prototyped boat</i></font>
					</figcaption>
				</figure>
				<figure>
					<img src="Team/progress/img/liushuang/w9/screwhole.jpg" style="display:block; margin-left: auto; margin-right: auto" height="350"></a>
					<figcaption style="text-align: center;">
						<font size="2"><i>Closer look for tighting the connector</i></font>
					</figcaption>
				</figure>
				<br>With the boat’s main frame being constructed and the conveyor belt improved, the plan for next week is to assemble
				the power supply system, the charging system, and the brushless DC motors to the prototype boat so the boat could be
				on water and being tested.
			</div>
			<!-- Instantiate global footer. Any changes to the footer should be made through the top-level file "footer.html" -->
			<div id="footer"></div>
		</div>
	</div>



	<!--JS-->
	<script src="js/jquery.js"></script>
	<script src="js/jquery-migrate-1.1.1.js"></script>

	<script type="text/javascript">
		$(document).ready(function () {
			$("#header").load("header.html");
			$("#menu").load("navbar.html");
			$("#footer").load("footer.html");
		});
	</script>
</body>

</html>